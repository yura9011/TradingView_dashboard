# AI Trading Analysis Agent - Local Model Dependencies
# For use with Qwen2-VL (2B or 7B) local model

# ============================================
# CORE DEPENDENCIES
# ============================================
pydantic>=2.0.0
python-dotenv>=1.0.0
PyYAML>=6.0

# ============================================
# TRADINGVIEW DATA
# ============================================
tradingview-screener>=3.0.0

# ============================================
# IMAGE PROCESSING & OCR
# ============================================
Pillow>=10.0.0
selenium>=4.15.0
playwright>=1.40.0
opencv-python>=4.8.0
scikit-learn>=1.3.0
scikit-image>=0.21.0

# OCR for extracting price levels from charts
# REQUIRES: Tesseract OCR installed on system
# Install: winget install UB-Mannheim.TesseractOCR
# Or download from: https://github.com/UB-Mannheim/tesseract/wiki
pytesseract>=0.3.10

# ============================================
# DATABASE
# ============================================
# SQLite is built-in to Python

# ============================================
# WEB DASHBOARD
# ============================================
Flask>=3.0.0
pandas>=2.0.0
openpyxl>=3.1.0

# ============================================
# LOCAL AI MODEL (Qwen2-VL)
# ============================================
# Available models:
# - Qwen/Qwen2-VL-2B-Instruct (~4GB) - Fast, good for bulk
# - Qwen/Qwen2-VL-7B-Instruct (~15GB) - Better quality, slower

# PyTorch - Install based on your system:
# - CPU only: pip install torch torchvision
# - CUDA 11.8: pip install torch torchvision --index-url https://download.pytorch.org/whl/cu118
# - CUDA 12.1: pip install torch torchvision --index-url https://download.pytorch.org/whl/cu121

torch>=2.0.0
torchvision>=0.15.0

# Transformers - Qwen2-VL requires latest version
transformers>=4.45.0

# Accelerate for efficient model loading
accelerate>=0.25.0

# Qwen-VL utilities (optional but recommended)
qwen-vl-utils>=0.0.2

# Flash Attention 2 (optional, for faster inference on NVIDIA GPUs)
# Requires CUDA toolkit installed
# pip install flash-attn --no-build-isolation

# ============================================
# YOLO PATTERN DETECTION (NEW!)
# ============================================
# YOLOv8 for accurate chart pattern detection
# Uses pretrained model: foduucom/stockmarket-pattern-detection-yolov8
# Detects: Double Top/Bottom, Head & Shoulders, Triangles

ultralytics>=8.0.0
huggingface_hub>=0.20.0

# ============================================
# TESTING
# ============================================
pytest>=7.0.0
pytest-asyncio>=0.23.0
hypothesis>=6.92.0

# ============================================
# OPTIONAL: DEVELOPMENT
# ============================================
# black>=23.0.0
# ruff>=0.1.0
